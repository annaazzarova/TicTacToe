$(document).ready(function(){mdc.autoInit(),mdc.registerInputFocusHandler,$("#join").click(function(){var e=$(document.forms["step-form"]);return $(".error",e).html(""),$.ajax({url:"/games/join",method:"POST",cache:!1,data:e.serialize(),success:function(e){$("#opponent").html(JSON.stringify(e.opponent)),$("#join").hide()}}),!1}),$("#do_step").click(function(){var e=$(document.forms["step-form"]);return $(".error",e).html(""),$.ajax({url:"/games/do_step",method:"POST",cache:!1,data:e.serialize(),success:function(e){$("#game_field").html(JSON.stringify(e.field))}}),!1}),$(".new-game").click(function(){var e=$(document.forms["new-game-form"]);return $.ajax({url:"/games/new",method:"POST",data:e.serialize(),success:function(e){var o=e.gameToken;window.location.href="/games/"+o}}),!1}),$(document.forms["login-form"]).on("submit",function(){var e=$(this);return $(".error",e).html(""),$.ajax({url:"/login",method:"POST",data:e.serialize(),statusCode:{200:function(){e.html("Вы вошли в сайт").addClass("alert-success"),window.location.href="/games"},403:function(o){var t=JSON.parse(o.responseText);$(".error",e).html(t.message)}}}),!1})});